# 雨予報チャレンジ Streamlitアプリ

## 1. 概要

このプロジェクトは、「明日の雨予報アプリ」の最小機能（PoC）をStreamlitで実装するものです。
設計書に基づき、変更容易性、アダプターパターン、責務分離を重視して構築されています。

## 2. プロジェクト構成

```
.
├── README.md         # このファイル
├── requirements.txt  # 必要なPythonパッケージ
└── app.py            # Streamlitアプリケーションのメインファイル
```

## 3. 開発ルール

本プロジェクトを開発する上でのルールを定めます。

### 3.1. 基本方針

- **言語:** コメントやコミットメッセージを含め、開発に関わる言語は原則として**日本語**を使用します。
- **設計思想:**
    - **変更への強さ:** 将来の機能追加やAPIの変更に柔軟に対応できるよう、関心の分離（特にアダプターパターン）を意識します。
    - **ベタ打ちの回避:** 設定値（APIのエンドポイント、地点番号など）は`Config`クラスで一元管理し、ハードコーディングを避けます。
    - **堅牢な作り:** API通信のエラーハンドリングなどを適切に行い、安定した動作を目指します。

### 3.2. ブランチ戦略

Gitのブランチは、以下の命名規則で運用します。

- `main`: 本番環境にデプロイされる安定版のブランチ。
- `feature/[description]`: 新機能の開発を行うブランチ。（例: `feature/add-result-history-page`）
- `fix/[description]`: バグ修正を行うブランチ。（例: `fix/api-request-timeout`）
- `refactor/[description]`: リファクタリングを行うブランチ。（例: `refactor/separate-ui-modules`）

### 3.3. コミットメッセージ

コミットメッセージは[Conventional Commits](https://www.conventionalcommits.org/)の規約に準拠します。
これにより、コミット履歴の可読性を高め、変更内容を追いやすくします。

**フォーマット:**
```
<type>: <description>
```

**主な`<type>`:**

- `feat`: 新機能の追加
- `fix`: バグ修正
- `docs`: ドキュメントの変更（README.mdなど）
- `style`: コードスタイルの変更（フォーマットなど）
- `refactor`: コードのリファクタリング（機能的な変更なし）
- `test`: テストの追加・修正
- `chore`: ビルドプロセスや補助ツールの変更など、ソースコードやテスト以外の変更

**例:**
```
feat: 過去の天気結果を表示する機能を追加
fix: 投票数がゼロの場合のオッズ計算エラーを修正
docs: READMEに開発ルールを記載
```

### 3.4. 命名規則

可読性と一貫性を保つため、以下の命名規則に従います。

- **ファイル名:** `snake_case` (例: `weather_forecaster.py`)
- **変数名・関数名:** `snake_case` (例: `get_weekly_forecast`, `user_bet`)
- **クラス名:** `PascalCase` (例: `BettingManager`, `CultivationHistoricalAPI`)
- **定数名:** `UPPER_SNAKE_CASE` (例: `TIMEZONE`, `RAIN_THRESHOLD_MM`)

### 3.5. コーディングスタイル

- **インデント:** スペース4つで統一します。
- **フォーマッター:** 将来的にはBlackやisortを導入し、コードスタイルを自動で統一することを目指します。手動でフォーマットする場合は、上記のルールとPEP8に準拠してください。